<div class="row row-fluid">
    <div class="col-md-4 panel panel-success" style="padding: 0px;">
        <div class="panel-heading">
            <h5>模块菜单管理</h5>
        </div>
        <div class="panel-body">
            <wi-datagrid dataProvider="modules" wid="moduleDg" width="100%" height="450" pagemode="none"
                    showno="false" itemclick="setCurrentModule">
                <wi-datagrid-column headtext="模块名称" datafield="moduleName"></wi-datagrid-column>
            </wi-datagrid>
        </div>
    </div>

    <div class="col-md-8 panel panel-success" style="padding: 0px;">
        <div class="panel-heading">
            <h5>菜单列表</h5>
        </div>
        <div class="panel-body">
            <wi-datagrid dataProvider="menuData" wid="dg" width="100%" height="450"
                          pagemode="none" showno="true"
                          treeField="menuName" itemclick="setCurrentMenu" pagebarrenderer="tool.html">
                <script id="tool.html" type="text/ng-template">
                    <a href="javascript:;" ng-click="$emit('addMenuEvent')"> <span class="icon-plus"></span>添加菜单</a>
                    <a href="javascript:;" ng-click="$emit('addSubMenuEvent')"><span class="icon-plus"></span>添加子菜单</a>
                    <a href="javascript:;" ng-click="$emit('delMenuEvent')"><span class="icon-remove"></span>删除菜单</a>
                    <a href="javascript:;" ng-click="$emit('editMenuEvent')"><span class="icon-edit"></span>编辑菜单</a>
                </script>
                <wi-datagrid-column headtext="菜单名称" datafield="menuName" width="150"></wi-datagrid-column>
                <wi-datagrid-column headtext="菜单状态" datafield="menuState" width="90"></wi-datagrid-column>
                <wi-datagrid-column headtext="图标" datafield="icon" align='center'></wi-datagrid-column>
                <wi-datagrid-column headtext="操作" datafield="num"></wi-datagrid-column>
            </wi-datagrid>
        </div>
    </div>

</div>

<script type="text/ng-template" id="menuEdit.html">
    <div class="modal-header">
        <h5 class="modal-title">{{action}}</h5>
    </div>
    <div class="modal-body">
        <form class="form form-horizontal">
            <input type="hidden" ng-model="currentMenu.id"/>
            <div class="form-group">
                <label class="control-label col-md-3">菜单名称</label>
                <div class="col-md-9">
                    <input class="form-control" type="text" ng-model="currentMenu.menuName"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-md-3">菜单路由</label>
                <div class="col-md-9">
                    <input class="form-control" type="text" ng-model="currentMenu.menuState"/>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3">模板路径</label>
                <div class="col-md-9">
                    <input class="form-control" type="text" ng-model="currentMenu.menuHref"/>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-3">父菜单</label>
                <div class="col-md-9">
                    <input class="form-control" type="text" ng-model="currentMenu.parentMenuId"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-md-3">菜单图标</label>
                <div class="col-md-9">
                    <input class="form-control" type="text" ng-model="currentMenu.icon"/>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="onOk();">保存</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
    </div>
</script>
